# 🏋️ Inploy ERP (한국어)

헬스장 트레이너의 불편함을 직접 듣고, 내가 직접 기획한 피트니스 전용 ERP 시스템.. 그러나 중단

## 프로젝트 소개

### 기간

2025.03 - 2023.05

### 프로젝트 배경

- 담당 PT 선생님이 현재 사용하는 프로그램이 너무 불편하다는 피드백에서 출발하여, 사용자 중심의 헬스장 전용 ERP 시스템을 직접 기획하고 개발
- 해당 시스템을 기반으로 사업화를 목표로 설정하고 정부지원사업 신청용 사업계획서를 작성, 스타트업 전문 컨설팅을 병행
- 프로젝트는 프랜차이즈 본사의 승인 없이 지점 단독으로 시스템을 도입하는 과정에서 발생한 법적·운영상 제약으로 인해 **중단**

### 프로젝트 회고

#### 법적 · 운영상 제약에 대한 고려 부족

> 개발에 착수하기 전, 시스템 도입의 제도적 한계를 충분히 검토하지 못함

- 프랜차이즈 구조상, 본사 승인 없이 지점 단독으로 외부 시스템을 도입할 수 없었으며, 개인정보 처리 및 서비스 운영에 따른 법적 리스크 존재했습니다.
- 프로젝트는 이로 인해 중단되었으며, 제도적 리스크에 대한 선제적 인지와 대응 역량을 강화하는 계기가 되었습니다.

#### 비기술적인 소통 장벽 경험

> PT 선생님은 무엇이 불편한지는 명확히 인지하고 있었지만, 이를 어떻게 기술적으로 해결할 수 있는지에 대한 이해가 부족하여, 소통에 많은 시간을 소요

- 예를 들어, 요구사항정의서를 예시와 함께 제공했음에도 대부분의 항목을 전혀 채우지 못했고, 주요 기능이나 사용 시나리오도 구체적으로 설명하기 어려워했습니다.
- 기술에 대한 이해가 전혀 없는 클라이언트와 어떻게 효과적으로 소통할 수 있을지, 그리고 그들이 원하는 바를 빠르게 파악하고 내가 원하는 정보도 자연스럽게 끌어낼 수 있을지에 대해 깊이 고민하게 되었습니다.

#### 기술보다 중요한 ‘지금 상황에 맞는 해결책’ 찾기

> 아무리 뛰어난 기술이라도, 현실적인 시간, 예산, 인력 등을 고려하지 않으면 그 효과를 발휘하기 어려움

- 하나의 문제를 해결할 수 있는 방법은 다양하지만, 현재 주어진 조건 안에서 최적의 기술을 선택하고 적용하는 역량이 중요하다는 것을 깨닫게 되었습니다.

## 주요 기능

- 회원 관리 (이름, 연락처, 회원권 등)
- 수업/트레이너 스케줄 관리
- 회원권 구매 및 사용 내역 확인
- 관리자용 인증 및 RBAC 권한 관리

## 기술 스택

### 기술 선정 이유

1인 개발 프로젝트였기 때문에, **빠른 개발과 효율적인 배포가 가능한 기술 스택**으로 선정

**향후 SaaS 형태로 확장할 가능성을 고려해 AWS 기반 서버리스 아키텍처를 채택**

- AWS Amplify Gen2를 사용하여 TypeScript 단일 환경으로 프론트엔드부터 백엔드, 배포까지 일괄 관리
- Cognito로 사용자 인증 및 권한 관리, DynamoDB로 서버리스 NoSQL 데이터 저장소 구성
  - 빠른 MVP 개발과 배포를 목표로, Amplify 환경과의 높은 호환성과 운영 편의성을 고려
  - 다양한 헬스장의 운영 요구사항을 유연하게 반영하기 위해 ERP 시스템을 모듈화된 구조로 설계, 이에 적합한 **스키마리스 NoSQL(DynamoDB)**을 사용하여 구조 변경에 유연하게 대응

**UI는 Bolt.new를 활용해 프로토타입을 빠르게 제작하고, 디자인 시스템 기반으로 확장 가능하도록 구성**

- `ShadcnUI` + `TailwindCSS`로 **Headless UI** 방식의 컴포넌트 구조 설계

  - Bolt를 비롯한 최신 AI UI 생성 도구들이 Headless UI 구조를 기반으로 하기 때문에,
    호환성과 유지보수 편의성을 확보하기에 적합하다고 판단
  - 기존 UI 프레임워크 대비 스타일링 부담은 있으나, 기능을 자유롭게 구성할 수 있는 유연성이 높아서 선택

- TanStack Query, TanStack Table, React Hook Form을 통해
  - 상태 관리, 테이블 렌더링, 폼 처리 등 Headless UI에 최적화된 기능을 구현
  - TanStack 라이브러리는 스타일과 로직이 분리된 Headless 방식에 특화되어 있어 높은 시너지 효과 제공

### 기술 스택 요약

| 구분                | 사용 기술 / 라이브러리        | 주요 역할 및 사용 목적                                                                    |
| ------------------- | ----------------------------- | ----------------------------------------------------------------------------------------- |
| **Frontend**        | React + Vite                  | 컴포넌트 기반 SPA 개발, 빠른 개발 및 빌드 환경 구성                                       |
|                     | TailwindCSS + ShadcnUI        | Headless UI 기반 스타일링 및 디자인 시스템 구현                                           |
|                     | TanStack Query / Table / Form | 상태 관리, 테이블 구성, 폼 유효성 검사 등 기능별 모듈화                                   |
|                     | Bolt.new                      | AI 기반 빠른 UI 프로토타입 제작 및 구조 설계 참고                                         |
| **Backend & Infra** | AWS Amplify Gen2              | TypeScript 기반 풀스택 개발, CI/CD 및 서버리스 배포                                       |
|                     | Cognito                       | 사용자 인증 및 권한 관리                                                                  |
|                     | DynamoDB                      | 스키마리스 구조의 NoSQL DB로, 다양한 헬스장 요구를 반영한 모듈형 ERP 설계에 유연하게 대응 |


## 트러블 슈팅

### 엑셀 데이터 마이그레이션

#### 문제 상황

- 기존 프로그램에서 우리 시스템에 데이터를 연동할 수 없어, 엑셀 파일로 데이터를 추출한 뒤 수동으로 시스템에 입력해야 함 (약 3,000줄 규모)
- 엑셀 파일은 전체적으로 유사한 패턴을 가지지만, 셀마다 포맷이 미묘하게 달라 일괄적인 파싱이 어려움
- 특히, 사용자는 `최근 방문일` 데이터를 매일 업데이트하길 원함

#### 해결 전략

- LLM 기반 파서를 활용하여 비정형 엑셀 데이터를 자동 파싱 및 정형화
- 매일 바뀌는 특정 필드(최근 방문일)는 **해시값**을 기준으로 변경 여부를 판단하여 중복 저장 방지
- Lambda를 활용한 서버리스 파이프라인을 구성해 자동화된 업로드-처리-업데이트 흐름 구현

#### 시스템 구성 흐름

- 엑셀 파일 업로드

- Lambda 1: 데이터 추출 및 해시값 계산

  - 엑셀 파일 파싱, 각 row별 해시 생성

- Lambda 2: LLM 호출 및 데이터 가공

  - 복잡한 필드 파싱, 포맷 정규화, 모델 기반 추출

- Lambda 3: DynamoDB 업데이트 및 트랜잭션 처리

  - 변경된 데이터만 업데이트, 중복 방지 및 롤백 대응

- (추후) 배치 처리 최적화 및 성능 최적화

  - 트랜잭션 확장: 여러 테이블 업데이트 시 데이터 일관성을 보장하도록 처리.
  - 세부 오류 처리: 트랜잭션 내에서 발생할 수 있는 오류를 관리.

## ERD

<img width="619" height="720" alt="image" src="https://github.com/user-attachments/assets/e301c62f-8204-41ef-9798-25cbebcf4c2b" />

## UI

<img width="674" height="812" alt="image" src="https://github.com/user-attachments/assets/3482befa-7ee8-47a4-a48b-45467463c61c" />


